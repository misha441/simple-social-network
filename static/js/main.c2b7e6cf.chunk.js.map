{"version":3,"sources":["assets/photos/user_icon.png","components/Navbar/Navbar.module.css","redux/dialogsReducer.js","components/common/Preloader/preloader.module.css","hoc/withAuthRedirect.js","api/api.js","components/Users/users.module.css","reportWebVitals.js","components/Navbar/Navbar.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/usersReducer.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/common/formControls/FormControls.jsx","assets/photos/preloader.svg","components/common/Preloader/Preloader.jsx","components/Login/Login.module.css","components/Header/Header.module.css","components/common/formControls/FormControls.module.css","redux/profileReducer.js"],"names":["module","exports","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","instanse","axios","withCredentials","headers","baseURL","userAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","userId","delete","follow","post","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","navbar","nav","navContent","activeClassName","active","Paginator","memo","pageCount","Math","ceil","totalUsersCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginatorWrapper","onClick","pageNumbersBlock","filter","p","map","selectedPage","pageNumbers","onPageChanged","User","userBlock","user","src","photos","small","userPhoto","followed","disabled","UsersInFollowingProgress","some","followBtn","userBlock__info","userBlock__fullName","Users","userBlocks","users","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","isFetching","followSuccess","unfollowSuccess","setUsers","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","pageNumber","count","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getUsersInFollowingProgress","UsersContainer","requestUsers","length","Preloader","compose","items","totalCount","News","Music","Settings","Header","header","loginBlock","SET_USER_DATA","setUserData","getAuthUserData","HeaderContainer","maxLength40","maxLengthCreator","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","loginInputWrapper","Field","component","Input","validate","required","placeholder","error","formSummaryError","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","redusers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","authReducer","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspence","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppWrapper","withRouter","promise","Promise","all","MainApp","ReactDOM","document","getElementById","value","maxLength","FormControl","input","meta","children","hasError","touched","formControl","Textarea","restProps","preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_MESSAGE","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"8GAAe,QAA0B,uC,mBCCzCA,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,2BAA2B,OAAS,yB,sFCD7FC,EAAe,sBAEjBC,EAAe,CACfC,QAAW,CACP,CAACC,GAAI,EAAGC,KAAM,SACd,CAACD,GAAI,EAAGC,KAAM,QACd,CAACD,GAAI,EAAGC,KAAM,SACd,CAACD,GAAI,EAAGC,KAAM,UAElBC,SAAW,CACP,CAACF,GAAI,EAAGG,QAAS,mBACjB,CAACH,GAAI,EAAGG,QAAS,gBACjB,CAACH,GAAI,EAAGG,QAAS,cAiBZC,EAAqB,SAACC,GAAD,MAAqB,CAAEC,KAAMT,EAAcQ,mBAG9DE,IAhBQ,WAAmC,IAAlCC,EAAiC,uDAAzBV,EAAcW,EAAW,uCACrD,OAAQA,EAAOH,MACX,KAAKT,EACD,IAAIa,EAAOD,EAAOJ,eAClB,OAAO,2BACAG,GADP,IAEIN,SAAS,GAAD,mBAAMM,EAAMN,UAAZ,CAAsB,CAACF,GAAG,EAAIG,QAASO,OAEvD,QACI,OAAOF,K,oBCxBnBb,EAAOC,QAAU,CAAC,UAAY,+B,qJCG1Be,EAA6B,SAACH,GAAD,MAAY,CACrCI,OAAQJ,EAAMK,KAAKD,SAGdE,EAAmB,SAACC,GAAe,IACtCC,EADqC,uKAGnC,OAAIC,KAAKC,MAAMN,OACR,cAACG,EAAD,eAAeE,KAAKC,QADG,cAAC,IAAD,CAAUC,GAAI,eAHT,GACXC,IAAML,WAStC,OAFmCM,YAAQV,EAARU,CAAoCL,K,4EChB3E,mHAEIM,EAAWC,SAAa,CACxBC,iBAAiB,EACjBC,QAAS,CAAC,UAAU,wCACpBC,QAAS,kDAGAC,EAAU,CACnBC,SADmB,SACVC,EAAaC,GAClB,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAgDC,IAClDE,MAAK,SAAAC,GACF,OAAOA,EAASC,SAG5BC,SAPmB,SAOVC,GACL,OAAOd,EAASe,OAAT,iBAA0BD,KAErCE,OAVmB,SAUZF,GACH,OAAOd,EAASiB,KAAT,iBAAwBH,KAEnCI,WAbmB,SAaRJ,GAEP,OADAK,QAAQC,KAAK,oEACNC,EAAWH,WAAWJ,KAIxBO,EAAa,CACtBH,WADsB,SACXJ,GACP,OAAOd,EAASS,IAAI,WAAYK,IAEpCQ,UAJsB,SAIZR,GACN,OAAOd,EAASS,IAAI,kBAAmBK,IAE3CS,aAPsB,SAOTC,GACT,OAAOxB,EAASyB,IAAI,iBAAkB,CAACD,aAIlCE,EAAU,CACnBC,GADmB,WAEf,OAAO3B,EAASS,IAAI,YAExBmB,MAJmB,SAIbC,EAAOC,EAAUC,GACnB,OAAO/B,EAASiB,KAAT,aAA2B,CAACY,QAAOC,WAAUC,gBAExDC,OAPmB,WAQf,OAAOhC,EAASe,OAAT,iB,mBC9Cf1C,EAAOC,QAAU,CAAC,UAAY,yBAAyB,WAAa,0BAA0B,UAAY,yBAAyB,UAAY,yBAAyB,gBAAkB,+BAA+B,oBAAsB,qC,mECWhO2D,G,OAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBzB,MAAK,YAAkD,IAA/C0B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,Q,mFCwBCO,EA1BA,WACX,OAAQ,qBAAKC,UAAWC,IAAEC,OAAlB,SACA,sBAAKF,UAAWC,IAAEE,IAAlB,UACI,oBAAIH,UAAWC,IAAEG,WAAjB,SACI,cAAC,IAAD,CAASjD,GAAG,WAAWkD,gBAAiBJ,IAAEK,OAA1C,uBAEJ,oBAAIN,UAAS,UAAKC,IAAEG,WAAP,YAAqBH,IAAEK,QAApC,SACI,cAAC,IAAD,CAASnD,GAAG,WAAWkD,gBAAiBJ,IAAEK,OAA1C,wBAEJ,oBAAIN,UAAS,UAAKC,IAAEG,WAAP,YAAqBH,IAAEK,QAApC,SACI,cAAC,IAAD,CAASnD,GAAG,SAASkD,gBAAiBJ,IAAEK,OAAxC,qBAEJ,oBAAIN,UAAWC,IAAEG,WAAjB,SACI,cAAC,IAAD,CAASjD,GAAG,QAAQkD,gBAAiBJ,IAAEK,OAAvC,oBAEJ,oBAAIN,UAAWC,IAAEG,WAAjB,SACI,cAAC,IAAD,CAASjD,GAAG,SAASkD,gBAAiBJ,IAAEK,OAAxC,qBAEJ,oBAAIN,UAAWC,IAAEG,WAAjB,SACI,cAAC,IAAD,CAASjD,GAAG,YAAYkD,gBAAiBJ,IAAEK,OAA3C,8B,2DCqBLC,EA1CGnD,IAAMoD,MAAK,SAACtD,GAG1B,IAFA,IAAIuD,EAAYC,KAAKC,KAAKzD,EAAM0D,gBAAkB1D,EAAMY,UACpD+C,EAAQ,GACHC,EAAI,EAAGA,GAAKL,EAAWK,IAC5BD,EAAME,KAAKD,GAGf,IAAIE,EAAeN,KAAKC,KAAKF,EAAYvD,EAAMY,UAPX,EAQImD,mBAAS,GARb,mBAQ/BC,EAR+B,KAQhBC,EARgB,KAShCC,EAAwBlE,EAAMY,UAAYoD,EAAgB,GAAK,EAC/DG,EAAyBnE,EAAMY,SAAWoD,EAE9C,OACI,sBAAKlB,UAAWsB,IAAOC,iBAAvB,UAEKL,EAAgB,GACjB,wBAAQM,QAAS,WACbL,EAAiBD,EAAgB,IADrC,kBAIA,qBAAKlB,UAAWsB,IAAOG,iBAAvB,SACKZ,EACIa,QAAO,SAAAC,GAAC,OAAIA,GAAKN,GAA0BM,GAAKP,KAChDQ,KAAI,SAAAD,GACD,OAAO,sBACM3B,UAAS,UAAK9C,EAAMW,cAAgB8D,GAAKL,IAAOO,aAAvC,YAAuDP,IAAOQ,aACvEN,QAAS,WACLtE,EAAM6E,cAAcJ,IAH9B,SAIUA,GAJCA,QAS7BX,EAAeE,GAChB,wBAAQM,QAAS,WACbL,EAAiBD,EAAgB,IADrC,wB,SCEGc,EAlCF,SAAC9E,GACV,OACI,sBAAyB8C,UAAWsB,IAAOW,UAA3C,UACI,gCACI,8BACI,cAAC,IAAD,CAAS9E,GAAI,YAAcD,EAAMgF,KAAKlG,GAAtC,SACI,qBAAKmG,IAAgC,MAA3BjF,EAAMgF,KAAKE,OAAOC,MAAgBnF,EAAMgF,KAAKE,OAAOC,MAAQC,IACjEtC,UAAWsB,IAAOgB,gBAG/B,8BAAMpF,EAAMgF,KAAKK,SACb,wBAAQC,SAAUtF,EAAMuF,yBAAyBC,MAAK,SAAA1G,GAAE,OAAIA,GAAMkB,EAAMgF,KAAKlG,MACrEgE,UAAWsB,IAAOqB,UAAWnB,QAAS,WAC1CtE,EAAMiB,SAASjB,EAAMgF,KAAKlG,KAF9B,sBAIA,wBAAQwG,SAAUtF,EAAMuF,yBAAyBC,MAAK,SAAA1G,GAAE,OAAIA,GAAMkB,EAAMgF,KAAKlG,MACrEgE,UAAWsB,IAAOqB,UAAWnB,QAAS,WAC1CtE,EAAMoB,OAAOpB,EAAMgF,KAAKlG,KAF5B,yBAKR,sBAAKgE,UAAWsB,IAAOsB,gBAAvB,UACI,gCACI,qBAAK5C,UAAWsB,IAAOuB,oBAAvB,SAA6C3F,EAAMgF,KAAKjG,OACxD,8BAAMiB,EAAMgF,KAAKpD,YAErB,gCACK,kCADL,IACwC,uBACnC,uCAzBH5B,EAAMgF,KAAKlG,KCed8G,EAjBD,SAAC5F,GACX,OAAO,gCAEH,8BACI,cAAC,EAAD,aAAWW,YAAaX,EAAMW,YAAakE,cAAe7E,EAAM6E,cACrDnB,gBAAiB1D,EAAM0D,gBACvB9C,SAAUZ,EAAMY,UAF3B,WAGqB,OAEzB,qBAAKkC,UAAWsB,IAAOyB,WAAvB,SACK7F,EAAM8F,MAAMpB,KAAI,SAAAqB,GAAC,OAAI,cAAC,EAAD,CAAMR,yBAA0BvF,EAAMuF,yBAChCnE,OAAQpB,EAAMoB,OACdH,SAAUjB,EAAMiB,SAAU+D,KAAMe,a,gDCflEC,EAAS,eACTC,EAAW,iBACXC,EAAY,kBACZC,EAAmB,yBACnBC,EAAwB,8BACxBC,EAAqB,2BACrBC,EAA+B,qCAGjC1H,EAAe,CACfkH,MAAO,GACPlF,SAAU,EACV8C,gBAAiB,GACjB/C,YAAa,EACb4F,YAAY,EACZhB,yBAA0B,IA+CjBiB,EAAgB,SAACtF,GAAD,MAAa,CAAC9B,KAAM4G,EAAQ9E,WAC5CuF,EAAkB,SAACvF,GAAD,MAAa,CAAC9B,KAAM6G,EAAU/E,WAChDwF,EAAW,SAACZ,GAAD,MAAY,CAAC1G,KAAM8G,EAAWJ,UAGzCa,EAAmB,SAACJ,GAAD,MAAiB,CAACnH,KAAMiH,EAAoBE,eAC/DK,EAA0B,SAACL,EAAYrF,GAAb,MAAyB,CAC5D9B,KAAMkH,EACNC,aACArF,WAgBE2F,EAAkB,uCAAG,WAAOC,EAAU5F,EAAQ6F,EAAWC,GAApC,SAAAC,EAAA,6DACvBH,EAASF,GAAwB,EAAM1F,IADhB,SAEA6F,EAAU7F,GAFV,OAGS,GAHT,OAGVF,KAAKkG,YACdJ,EAASE,EAAc9F,IAE3B4F,EAASF,GAAwB,EAAO1F,IANjB,2CAAH,4DAqBTiG,EAzFM,WAAmC,IAAlC7H,EAAiC,uDAAzBV,EAAcW,EAAW,uCACnD,OAAQA,EAAOH,MACX,KAAK4G,EACD,OAAO,2BACA1G,GADP,IAEIwG,MAAOxG,EAAMwG,MAAMpB,KAAI,SAACqB,GACpB,OAAIA,EAAEjH,KAAOS,EAAO2B,OAAgB,2BAAI6E,GAAX,IAAcV,UAAU,IAC9CU,OAGnB,KAAKE,EACD,OAAO,2BACA3G,GADP,IAEIwG,MAAOxG,EAAMwG,MAAMpB,KAAI,SAACqB,GACpB,OAAIA,EAAEjH,KAAOS,EAAO2B,OAAgB,2BAAI6E,GAAX,IAAcV,UAAU,IAC9CU,OAGnB,KAAKG,EACD,OAAO,2BAAI5G,GAAX,IAAkBwG,MAAOvG,EAAOuG,QAEpC,KAAKK,EACD,OAAO,2BAAI7G,GAAX,IAAkBqB,YAAapB,EAAO6H,aAE1C,KAAKhB,EACD,OAAO,2BAAI9G,GAAX,IAAkBoE,gBAAiBnE,EAAO8H,QAE9C,KAAKhB,EACD,OAAO,2BAAI/G,GAAX,IAAkBiH,WAAYhH,EAAOgH,aAEzC,KAAKD,EACD,OAAO,2BACAhH,GADP,IAEIiG,yBAA0BhG,EAAOgH,WAAP,sBAChBjH,EAAMiG,0BADU,CACgBhG,EAAO2B,SAC3C5B,EAAMiG,yBAAyBf,QAAO,SAAA1F,GAAE,OAAIA,GAAMS,EAAO2B,YAGvE,QACI,OAAO5B,I,iCCtDNoB,EAAW4G,aAJC,SAAChI,GACtB,OAAOA,EAAMiI,UAAUzB,SAG8B,SAACA,GACtD,OAAOA,EAAMtB,QAAO,kBAAM,QAGjBgD,EAAc,SAAClI,GACxB,OAAOA,EAAMiI,UAAU3G,UAGd6G,GAAqB,SAACnI,GAC/B,OAAOA,EAAMiI,UAAU7D,iBAGdgE,GAAiB,SAACpI,GAC3B,OAAOA,EAAMiI,UAAU5G,aAGdgH,GAAgB,SAACrI,GAC1B,OAAOA,EAAMiI,UAAUhB,YAGdqB,GAA8B,SAACtI,GACxC,OAAOA,EAAMiI,UAAUhC,0BCRrBsC,G,4MASFhD,cAAgB,SAACuC,GAAgB,IACtBxG,EAAY,EAAKZ,MAAjBY,SACP,EAAKZ,MAAM8H,aAAaV,EAAYxG,I,kEARpC,GAAgC,IAA5Bb,KAAKC,MAAM8F,MAAMiC,OAAc,CAAC,IAAD,EACChI,KAAKC,MAA9BW,EADwB,EACxBA,YAAaC,EADW,EACXA,SACpBb,KAAKC,MAAM8H,aAAanH,EAAaC,M,+BAUzC,OAAO,qCACDb,KAAKC,MAAMuG,WAAa,cAACyB,EAAA,EAAD,IAAgB,KAC1C,cAAC,EAAD,CAAOrH,YAAaZ,KAAKC,MAAMW,YACxB+C,gBAAiB3D,KAAKC,MAAM0D,gBAC5BoC,MAAO/F,KAAKC,MAAM8F,MAClB1E,OAAQrB,KAAKC,MAAMoB,OACnBH,SAAUlB,KAAKC,MAAMiB,SACrBL,SAAUb,KAAKC,MAAMY,SACrBiE,cAAe9E,KAAK8E,cACpB+B,wBAAyB7G,KAAKC,MAAM4G,wBACpCrB,yBAA0BxF,KAAKC,MAAMuF,kC,GAzB3BrF,IAAML,WA0CpBoI,eACX9H,aAZkB,SAACb,GACnB,MAAO,CACHwG,MAAOpF,EAASpB,GAChBsB,SAAU4G,EAAYlI,GACtBoE,gBAAiB+D,GAAmBnI,GACpCqB,YAAa+G,GAAepI,GAC5BiH,WAAYoB,GAAcrI,GAC1BiG,yBAA0BqC,GAA4BtI,MAKjC,CAAC8B,OFoCR,SAACF,GAAD,8CAAY,WAAO4F,GAAP,eAAAG,EAAA,sDACxBF,EAAYtG,IAAQW,OAE1ByF,EAAmBC,EAAU5F,EAAQ6F,EADfP,GAFQ,2CAAZ,uDEpCgBvF,SF0Cd,SAACC,GAAD,8CAAY,WAAO4F,GAAP,eAAAG,EAAA,sDAC1BF,EAAYtG,IAAQQ,SAE1B4F,EAAmBC,EAAU5F,EAAQ6F,EADfN,GAFU,2CAAZ,uDE1CwBC,WAASE,0BACjDkB,aFcoB,SAACnH,EAAaC,GACtC,OAAO,SAACkG,GACJA,EAASH,GAAiB,IAC1BG,EAbuC,CAAC1H,KAAM+G,EAAkBiB,WAaxCzG,IACxBF,IAAQC,SAASC,EAAaC,GACzBE,MAAK,SAAAE,GAdgB,IAACqG,EAenBP,EAASH,GAAiB,IAC1BG,EAASJ,EAAS1F,EAAKkH,QACvBpB,GAjBmBO,EAiBSrG,EAAKmH,WAjBH,CAAC/I,KAAMgH,EAAuBiB,kBEP7DY,CAGbJ,ICtDaO,GARF,SAACpI,GACV,OACI,wCCMOqI,GARD,SAACrI,GACX,OACI,yCCMOsI,GARE,SAACtI,GACd,OACI,4C,6BCaOuI,GAbA,SAACvI,GACZ,OACI,yBAAQ8C,UAAWC,KAAEyF,OAArB,UACI,qBAAKvD,IAAI,0GACT,qBAAKnC,UAAWC,KAAE0F,WAAlB,SACKzI,EAAMN,OACD,gCAAMM,EAAMgC,MAAZ,MAAqB,wBAAQsC,QAAStE,EAAMoC,OAAvB,wBACrB,cAAC,IAAD,CAASnC,GAAI,SAAb,yB,SCRhByI,GAAgB,qBAGlB9J,GAAe,CACfE,GAAI,KACJkD,MAAO,KACPC,MAAO,KACPvC,QAAQ,GAgBCiJ,GAAc,SAAC7J,EAAIkD,EAAOC,EAAOvC,GAAnB,MAA+B,CAACN,KAAMsJ,GAAe1H,KAAM,CAAClC,KAAIkD,QAAOC,QAAOvC,YAG5FkJ,GAAkB,yDAAM,WAAO9B,GAAP,uBAAAG,EAAA,sEACVnF,IAAQC,KADE,OAGA,KAF3BhB,EAD2B,QAGpBC,KAAKkG,aAAmB,EACRnG,EAASC,KAAKA,KAAlClC,EAD2B,EAC3BA,GAAIkD,EADuB,EACvBA,MAAOC,EADgB,EAChBA,MAChB6E,EAAS6B,GAAY7J,EAAIkD,EAAOC,GAAO,KALV,2CAAN,uDA6BhBkF,GA5CM,WAAmC,IAAlC7H,EAAiC,uDAAzBV,GAAcW,EAAW,uCACnD,OAAQA,EAAOH,MACX,KAAKsJ,GACD,OAAO,2BACApJ,GACAC,EAAOyB,MAElB,QACI,OAAO1B,ICjBbuJ,G,uKAGE,OAAO,cAAC,GAAD,eAAY9I,KAAKC,Y,GAHFE,IAAML,WAYrBM,gBALS,SAACb,GAAD,MAAY,CAChCI,OAAQJ,EAAMK,KAAKD,OACnBsC,MAAO1C,EAAMK,KAAKqC,SAGiB,CAAC4G,mBAAiBxG,ODiCnC,yDAAM,WAAO0E,GAAP,SAAAG,EAAA,sEACDnF,IAAQM,SADP,OAGS,IAHT,OAGXpB,KAAKkG,YACdJ,EAAS6B,GAAY,KAAM,KAAM,MAAM,IAJnB,2CAAN,wDCjCPxI,CAAmD0I,I,0DCR5DC,GAAcC,aAAiB,IAsB/BC,GAAiBC,aAAU,CAACC,KAAM,SAAjBD,EApBL,SAACjJ,GACf,OAAO,uBAAMmJ,SAAUnJ,EAAMoJ,aAAtB,UACH,qBAAKtG,UAAWsB,KAAOiF,kBAAvB,SACI,cAACC,GAAA,EAAD,CAAOC,UAAWC,KAAOC,SAAU,CAACC,KAASZ,IAAc/J,KAAM,QAAS4K,YAAa,YAE3F,qBAAK7G,UAAWsB,KAAOiF,kBAAvB,SACI,cAACC,GAAA,EAAD,CAAOC,UAAWC,KAAOC,SAAU,CAACC,KAASZ,IAAc/J,KAAM,WAC1D4K,YAAa,WAAYvK,KAAM,eAE1C,gCACI,cAACkK,GAAA,EAAD,CAAOC,UAAWC,KAAOzK,KAAM,aAAcK,KAAM,aADvD,iBAGCY,EAAM4J,OAAS,qBAAK9G,UAAWsB,KAAOyF,iBAAvB,SAA0C7J,EAAM4J,QAChE,8BACI,6CAbD,kBA2CIzJ,gBAJS,SAACb,GAAD,MAAY,CAChCI,OAAQJ,EAAMK,KAAKD,UAGiB,CAACsC,MFjBpB,SAACC,EAAOC,EAAUC,GAAlB,8CAAiC,WAAO2E,GAAP,iBAAAG,EAAA,sEAC3BnF,IAAQE,MAAMC,EAAOC,EAAUC,GADJ,OAGjB,KAF3BpB,EAD4C,QAGrCC,KAAKkG,WACdJ,EAAS8B,OAEL3J,EAAU8B,EAASC,KAAKhC,SAAS+I,OAAS,EAAIhH,EAASC,KAAKhC,SAAS,GAAK,aAE9E8H,EAASgD,aAAW,QAAS,CAACC,OAAQ9K,MARQ,2CAAjC,wDEiBNkB,EAtBD,SAACH,GAKX,OAAGA,EAAMN,OACE,cAAC,KAAD,CAAUO,GAAI,aAIrB,gCACI,uCACA,8BACI,cAAC+I,GAAD,CAAgBG,SAZX,SAACa,GACdhK,EAAMgC,MAAMgI,EAAS/H,MAAO+H,EAAS9H,SAAU8H,EAAS7H,uBCjC1D8H,GAAsB,sBAIxBrL,GAAe,CACfsL,aAAa,GA4BFC,GAzBI,WAAmC,IAAlC7K,EAAiC,uDAAzBV,GAAcW,EAAW,uCAChD,OAAQA,EAAOH,MACX,KAAK6K,GACD,OAAO,2BACA3K,GADP,IAEI4K,aAAa,IAErB,QACI,OAAO5K,I,mBClBhBV,GAAe,GAMJwL,GAJQ,WAAmC,IAAlC9K,EAAiC,uDAAzBV,GAC5B,OAAOU,G,oBCSP+K,GAAWC,YAAgB,CAC3BC,YAAcC,KACdC,YAAcpL,KACdqL,QAAUN,GACV7C,UAAYJ,EACZxH,KAAOgL,GACPzB,KAAM0B,KACNC,IAAKV,KAIHW,GAAmBC,OAAOC,sCAAwC/C,IAOzDgD,GANDC,YAAYb,GAAUS,GAAiBK,YAAgBC,QCdtDC,GARM,SAACxL,GAClB,OAAO,SAACG,GACJ,OAAO,cAAC,IAAMsL,SAAP,CAAgBC,SAAU,oDAA1B,SACH,cAAC1L,EAAD,eAAeG,QCerBwL,GAAmBtL,IAAMuL,MAAK,kBAAM,iCACpCC,GAAmBxL,IAAMuL,MAAK,kBAAM,iCAEpCE,G,kLAEE5L,KAAKC,MAAM4L,kB,+BAIX,OAAK7L,KAAKC,MAAMkK,YAKZ,sBAAKpH,UAAU,cAAf,UACI,cAAC,GAAD,IACA,cAAC,EAAD,IACA,sBAAKA,UAAU,sBAAf,UACI,cAAC,KAAD,CAAO+I,KAAK,WAAWC,OAAQT,GAAaG,MAC5C,cAAC,KAAD,CAAOK,KAAK,oBAAoBC,OAAQT,GAAaK,MACjD,cAAC,KAAD,CAAOG,KAAK,SAASC,OAAQ,kBAAM,cAAC,GAAD,OACnC,cAAC,KAAD,CAAOD,KAAK,QAAQC,OAAQ,kBAAM,cAAC,GAAD,OAClC,cAAC,KAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,cAAC,GAAD,OACnC,cAAC,KAAD,CAAOD,KAAK,YAAYC,OAAQ,kBAAM,cAAC,GAAD,OACtC,cAAC,KAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,cAAC,GAAD,aAdxC,cAAC9D,EAAA,EAAD,Q,GAPD9H,IAAML,WAgCMkM,GAAc9D,YACpB+D,KACA7L,aANwB,SAACb,GAAD,MAAY,CACpC4K,YAAa5K,EAAMuL,IAAIX,eAKE,CAAC0B,cJ9BrB,kBAAM,SAAC9E,GAChC,IAAImF,EAAUnF,EAAS8B,MACvBsD,QAAQC,IAAI,CAACF,IACRnL,MAAK,WACFgG,EAP6B,CAAC1H,KAAM6K,YI+BJhC,CAGlB0D,IAUaS,GARC,SAACpM,GACjB,OAAO,cAAC,IAAD,UACP,cAAC,IAAD,CAAUiL,MAAOA,GAAjB,SACA,cAACc,GAAD,SCxDxBM,IAASP,OACD,cAAC,GAAD,IACJQ,SAASC,eAAe,SAO5BlK,K,gCChBA,oEAAO,IAAMqH,EAAW,SAAC8C,GACrB,IAAGA,EACH,MAAO,qBAGEzD,EAAmB,SAAC0D,GAAD,OAAe,SAACD,GAC5C,GAAGA,EAAMzE,OAAS0E,EAAY,MAAM,iBAAN,OAAwBA,EAAxB,e,mBCLlChO,EAAOC,QAAU,CAAC,iBAAmB,oCAAoC,iBAAmB,oCAAoC,YAAc,+BAA+B,aAAe,kC,sJCKtLgO,G,MAAc,SAAC,GAAqC,EAApCC,MAAqC,IAA9BC,EAA6B,EAA7BA,KAAKC,EAAwB,EAAxBA,SAC1BC,GADkD,2CACvCF,EAAKhD,OAASgD,EAAKG,SAElC,OACI,sBAAKjK,UAAWsB,IAAO4I,YAAc,KAAOF,EAAW1I,IAAOwF,MAAQ,IAAtE,UACI,8BACKiD,IAEL,8BACMC,GAAY,+BAAOF,EAAKhD,eAM7BqD,EAAW,SAACjN,GAAW,IACzB2M,EAA6B3M,EAA7B2M,MAAgBO,GAAalN,EAAtB4M,KADiB,YACK5M,EADL,mBAE/B,OAAO,cAAC0M,EAAD,2BAAiB1M,GAAjB,aAAwB,oDAAc2M,GAAWO,QAG/C1D,EAAQ,SAACxJ,GAAW,IACtB2M,EAA6B3M,EAA7B2M,MAAgBO,GAAalN,EAAtB4M,KADc,YACQ5M,EADR,mBAE5B,OAAO,cAAC0M,EAAD,2BAAiB1M,GAAjB,aAAwB,iDAAW2M,GAAWO,S,2CC5B1C,MAA0B,sC,kBCS1BlF,IANG,SAAChI,GACf,OAAO,qBAAK8C,UAAWsB,IAAO+I,UAAvB,SACH,qBAAKlI,IAAKkI,Q,mBCJlB1O,EAAOC,QAAU,CAAC,kBAAoB,iCAAiC,iBAAmB,kC,mBCA1FD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,mBCA/DD,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,8B,4NCCpE0O,EAAW,mBACXC,EAAmB,2BACnBC,EAAa,qBACbC,EAAiB,yBAEnB3O,EAAe,CACf4O,MAAO,CACH,CAAC1O,GAAI,EAAGG,QAAS,mBAAoBwO,WAAY,IACjD,CAAC3O,GAAI,EAAGG,QAAS,eAAiBwO,WAAY,IAC9C,CAAC3O,GAAI,EAAGG,QAAS,WAAYwO,WAAY,KAE7CC,QAAS,KACT9L,OAAQ,IA4BC+L,EAAuB,SAACC,GAAD,MAAkB,CAACxO,KAAMgO,EAAUQ,gBAE1DC,EAAY,SAACjM,GAAD,MAAa,CAACxC,KAAMkO,EAAY1L,WAI5CkM,EAAiB,SAAC5M,GAAD,8CAAY,WAAO4F,GAAP,eAAAG,EAAA,sEACfxG,IAAQa,WAAWJ,GADJ,OAChCH,EADgC,OAEtC+F,GAP2B4G,EAOH3M,EAASC,KAPO,CAAC5B,KAAMiO,EAAkBK,aAK3B,iCALZ,IAACA,IAKW,OAAZ,uDAKjBhM,EAAY,SAACR,GAAD,8CAAY,WAAO4F,GAAP,eAAAG,EAAA,sEACVxF,IAAWC,UAAUR,GADX,OAC3BH,EAD2B,OAEjC+F,EAAS+G,EAAU9M,EAASC,OAFK,2CAAZ,uDAKZW,EAAe,SAACC,GAAD,8CAAY,WAAOkF,GAAP,SAAAG,EAAA,sEACbxF,IAAWE,aAAaC,GADX,cAEpCkF,EAAS+G,EAAUjM,IAFiB,2CAAZ,uDAKb4I,IA9CQ,WAAmC,IAAlClL,EAAiC,uDAAzBV,EAAcW,EAAW,uCACrD,OAAQA,EAAOH,MACX,KAAKgO,EACD,IAAIW,EAAU,CACVjP,GAAI,EACJG,QAASM,EAAOqO,YAChBH,WAAY,GAEhB,OAAO,2BACAnO,GADP,IAEIsO,YAAa,GACbJ,MAAM,GAAD,mBAAMlO,EAAMkO,OAAZ,CAAmBO,MAEhC,KAAKV,EACD,OAAO,2BAAI/N,GAAX,IAAkBoO,QAASnO,EAAOmO,UAEtC,KAAKJ,EACD,OAAO,2BAAIhO,GAAX,IAAkBsC,OAAQrC,EAAOqC,SACrC,KAAK2L,EACD,OAAO,2BAAIjO,GAAX,IAAkBkO,MAAOlO,EAAMkO,MAAMhJ,QAAO,SAAAC,GAAC,OAAIA,EAAE3F,IAAMS,EAAOyO,YACpE,QACI,OAAO1O,M","file":"static/js/main.c2b7e6cf.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user_icon.42126f39.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__3utY8\",\"navContent\":\"Navbar_navContent__32F9M\",\"active\":\"Navbar_active__S8OWi\"};","const SEND_MESSAGE = 'dialog/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs :  [\r\n        {id: 1, name: 'Sasha'},\r\n        {id: 2, name: 'Igor'},\r\n        {id: 3, name: 'Vanya'},\r\n        {id: 4, name: 'Misha'}\r\n    ],\r\n    messages : [\r\n        {id: 1, message: 'Hello world!!!!'},\r\n        {id: 2, message: 'How are you?'},\r\n        {id: 3, message: 'I\\'m good'}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id:5 , message: body}]\r\n            }\r\n        default :\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody});\r\n\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__3oV7L\"};","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n        isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component{\r\n        render(){\r\n            if(!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectAuthRedirectComponent;\r\n}","import * as axios from \"axios\";\r\n\r\nlet instanse = axios.create({\r\n    withCredentials: true,\r\n    headers: {'API-KEY':'8e4e8245-e26f-4f04-aad8-74bedbfe3233'},\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage, pageSize){\r\n        return instanse.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    unfollow(userId){\r\n        return instanse.delete(`follow/${userId}`)\r\n    },\r\n    follow(userId){\r\n        return instanse.post(`follow/${userId}`)\r\n    },\r\n    getProfile(userId){\r\n        console.warn('Obsolete method. Please use profileAPI method!!!Warn from api.js')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId){\r\n        return instanse.get(`profile/` +userId)\r\n    },\r\n    getStatus(userId){\r\n        return instanse.get(`profile/status/`+ userId)\r\n    },\r\n    updateStatus(status){\r\n        return instanse.put('profile/status', {status})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me(){\r\n        return instanse.get('auth/me')\r\n    },\r\n    login(email, password, rememberMe){\r\n        return instanse.post(`auth/login`,{email, password, rememberMe});\r\n    },\r\n    logout(){\r\n        return instanse.delete(`auth/login`);\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2zRZ-\",\"userBlocks\":\"users_userBlocks__1DGu8\",\"userBlock\":\"users_userBlock__5Lisr\",\"followBtn\":\"users_followBtn__3hlEa\",\"userBlock__info\":\"users_userBlock__info__1NiCL\",\"userBlock__fullName\":\"users_userBlock__fullName__1b2Dr\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Navbar = () => {\r\n    return (<div className={s.navbar}>\r\n            <nav className={s.nav}>\r\n                <li className={s.navContent}>\r\n                    <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n                </li>\r\n                <li className={`${s.navContent} ${s.active}`}>\r\n                    <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n                </li>\r\n                <li className={`${s.navContent} ${s.active}`}>\r\n                    <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n                </li>\r\n                <li className={s.navContent}>\r\n                    <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n                </li>\r\n                <li className={s.navContent}>\r\n                    <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n                </li>\r\n                <li className={s.navContent}>\r\n                    <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n                </li>\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\n\r\nconst Paginator = React.memo((props) => {\r\n    let pageCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pageCount / props.pageSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = props.pageSize * (portionNumber - 1) + 1;\r\n    let rightPortionPageNumber = props.pageSize * portionNumber;\r\n\r\n    return (\r\n        <div className={styles.paginatorWrapper}>\r\n\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>PREV</button>}\r\n\r\n            <div className={styles.pageNumbersBlock}>\r\n                {pages\r\n                    .filter(p => p <= rightPortionPageNumber && p >= leftPortionPageNumber)\r\n                    .map(p => {\r\n                        return <span key={p}\r\n                                     className={`${props.currentPage === p && styles.selectedPage} ${styles.pageNumbers}`}\r\n                                     onClick={() => {\r\n                                         props.onPageChanged(p)\r\n                                     }}>{p}</span>\r\n                    })\r\n                }\r\n            </div>\r\n\r\n            {portionCount > portionNumber &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>NEXT</button>}\r\n\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../assets/photos/user_icon.png\";\r\n\r\nconst User = (props) => {\r\n    return (\r\n        <div key={props.user.id} className={styles.userBlock}>\r\n            <div>\r\n                <div>\r\n                    <NavLink to={'/profile/' + props.user.id}>\r\n                        <img src={props.user.photos.small != null ? props.user.photos.small : userPhoto}\r\n                             className={styles.userPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>{props.user.followed ?\r\n                    <button disabled={props.UsersInFollowingProgress.some(id => id == props.user.id)}\r\n                            className={styles.followBtn} onClick={() => {\r\n                        props.unfollow(props.user.id)\r\n                    }}>unfollow</button> :\r\n                    <button disabled={props.UsersInFollowingProgress.some(id => id == props.user.id)}\r\n                            className={styles.followBtn} onClick={() => {\r\n                        props.follow(props.user.id)\r\n                    }}>follow</button>}</div>\r\n            </div>\r\n            <div className={styles.userBlock__info}>\r\n                <div>\r\n                    <div className={styles.userBlock__fullName}>{props.user.name}</div>\r\n                    <div>{props.user.status}</div>\r\n                </div>\r\n                <div>\r\n                    {'props.user.location.countryName'},<br/>\r\n                    {'props.user.location.cityName'}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = (props) => {\r\n    return <div>\r\n\r\n        <div>\r\n            <Paginator currentPage={props.currentPage} onPageChanged={props.onPageChanged}\r\n                       totalUsersCount={props.totalUsersCount}\r\n                       pageSize={props.pageSize}\r\n                       pageSize={15}/>\r\n        </div>\r\n        <div className={styles.userBlocks}>\r\n            {props.users.map(u => <User UsersInFollowingProgress={props.UsersInFollowingProgress}\r\n                                        follow={props.follow}\r\n                                        unfollow={props.unfollow} user={u}/>)}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","import {userAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 20,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    UsersInFollowingProgress: []\r\n}\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((u) => {\r\n                    if (u.id === action.userId) {return {...u, followed: true}}\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((u) => {\r\n                    if (u.id === action.userId) {return {...u, followed: false}}\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.pageNumber}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                UsersInFollowingProgress: action.isFetching\r\n                    ? [...state.UsersInFollowingProgress, action.userId]\r\n                    : state.UsersInFollowingProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default :\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (pageNumber) => ({type: SET_CURRENT_PAGE, pageNumber});\r\nexport const setTotalUsersCount = (count) => ({type: SET_TOTAL_USERS_COUNT, count});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(currentPage));\r\n        userAPI.getUsers(currentPage, pageSize)\r\n            .then(data => {\r\n                dispatch(toggleIsFetching(false));\r\n                dispatch(setUsers(data.items));\r\n                dispatch(setTotalUsersCount(data.totalCount));\r\n            })\r\n    }\r\n}\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    const response = await apiMethod(userId)\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    const apiMethod = userAPI.follow;\r\n    const actionCreator = followSuccess;\r\n    followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    const apiMethod = userAPI.unfollow;\r\n    const actionCreator = unfollowSuccess;\r\n    followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n}\r\n\r\nexport default usersReducer;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(() => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getUsersInFollowingProgress = (state) => {\r\n    return state.usersPage.UsersInFollowingProgress\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n    follow, requestUsers,\r\n    setUsers, toggleFollowingProgress, unfollow\r\n} from \"../../redux/usersReducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n    getUsersInFollowingProgress\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        if (this.props.users.length === 0) {\r\n            const {currentPage, pageSize} = this.props;\r\n            this.props.requestUsers(currentPage, pageSize)\r\n        }\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            { this.props.isFetching ? <Preloader /> : null}\r\n            <Users currentPage={this.props.currentPage}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   pageSize={this.props.pageSize}\r\n                   onPageChanged={this.onPageChanged}\r\n                   toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                   UsersInFollowingProgress={this.props.UsersInFollowingProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        UsersInFollowingProgress: getUsersInFollowingProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setUsers,toggleFollowingProgress,\r\n        requestUsers})\r\n)(UsersContainer);","import React from 'react';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src='https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Clojure_logo.svg/256px-Clojure_logo.svg.png' />\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\n\r\nlet initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false\r\n}\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        default :\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setUserData = (id, login, email, isAuth) => ({type: SET_USER_DATA, data: {id, login, email, isAuth}});\r\n\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authAPI.me()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setUserData(id, login, email, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        debugger\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {getAuthUserData, logout} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component{\r\n\r\n    render(){\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps,{getAuthUserData, logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/formControls/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport styles from './Login.module.css';\r\nimport {login} from \"../../redux/authReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst maxLength40 = maxLengthCreator(40)\r\n\r\nconst LoginForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div className={styles.loginInputWrapper}>\r\n            <Field component={Input} validate={[required,maxLength40]} name={'email'} placeholder={'email'}/>\r\n        </div>\r\n        <div className={styles.loginInputWrapper}>\r\n            <Field component={Input} validate={[required,maxLength40]} name={'password'}\r\n                   placeholder={'password'} type={'password'}/>\r\n        </div>\r\n        <div>\r\n            <Field component={Input} name={'rememberMe'} type={'checkbox'}/>remember me\r\n        </div>\r\n        {props.error && <div className={styles.formSummaryError}>{props.error}</div>}\r\n        <div>\r\n            <button>Login</button>\r\n        </div>\r\n        dm04dp12m\r\n    </form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if(props.isAuth){\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3>Login</h3>\r\n            <div>\r\n                <LoginReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>)\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n     switch (action.type){\r\n         case INITIALIZED_SUCCESS:\r\n             return {\r\n                 ...state,\r\n                 initialized: true\r\n             }\r\n         default:\r\n             return state\r\n     }\r\n}\r\n\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        })\r\n}\r\n\r\nexport default appReducer;","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./appReducer\";\r\n\r\n\r\n\r\nlet redusers = combineReducers({\r\n    profilePage : profileReducer,\r\n    dialogsPage : dialogsReducer,\r\n    sidebar : sidebarReducer,\r\n    usersPage : usersReducer,\r\n    auth : authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(redusers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(redusers, applyMiddleware(thunkMiddleware));\r\n//\r\n// window.store = store;\r\n\r\nexport default store;","import React from 'react';\r\n\r\nconst withSuspence = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<h1>Loading profile...</h1>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n}\r\n\r\nexport default withSuspence;","import './App.css';\nimport React from 'react';\nimport Navbar from './components/Navbar/Navbar';\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport {BrowserRouter, Route, withRouter} from 'react-router-dom';\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\n\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {compose} from \"redux\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\nimport withSuspence from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Route path='/dialogs' render={withSuspence(DialogsContainer)}/>\n                    <Route path='/profile/:userId?' render={withSuspence(ProfileContainer)}/>\n                        <Route path='/users' render={() => <UsersContainer/>}/>\n                        <Route path='/news' render={() => <News/>}/>\n                        <Route path='/music' render={() => <Music/>}/>\n                        <Route path='/settings' render={() => <Settings/>}/>\n                        <Route path='/login' render={() => <Login/>}/>\n                        </div>\n                        </div>\n                        );\n                        }\n                        }\n\n                        const mapStateToProps = (state) => ({\n                        initialized: state.app.initialized\n                    })\n\n                        const AppWrapper =  compose(\n                        withRouter,\n                        connect(mapStateToProps, {initializeApp})\n                        )(App);\n\n                        const MainApp = (props) => {\n                        return <BrowserRouter>\n                        <Provider store={store}>\n                        <AppWrapper />\n                        </Provider>\n                        </BrowserRouter>\n                    }\n\n                        export default MainApp;","import React from 'react';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from \"react-dom\";\nimport MainApp from \"./App\";\n\n\nReactDOM.render(\n        <MainApp />,\n    document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export const required = (value) => {\r\n    if(value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength ) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginatorWrapper\":\"Paginator_paginatorWrapper__AboxP\",\"pageNumbersBlock\":\"Paginator_pageNumbersBlock__2-jPI\",\"pageNumbers\":\"Paginator_pageNumbers__343-x\",\"selectedPage\":\"Paginator_selectedPage__3aDDm\"};","import React from 'react';\r\nimport styles from './FormControls.module.css';\r\nimport {Field} from \"redux-form\";\r\nimport {required} from \"../../../utils/validators/validators\";\r\n\r\n\r\nconst FormControl = ({input, meta,children, ...props}) => {\r\n    let hasError = meta.error && meta.touched;\r\n\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            <div>\r\n                { hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/preloader.e88c5d6a.svg\";","import preloader from '../../../assets/photos/preloader.svg';\r\nimport styles from './preloader.module.css';\r\n\r\nconst Preloader = (props) => {\r\n    return <div className={styles.preloader}>\r\n        <img src={preloader}/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginInputWrapper\":\"Login_loginInputWrapper__ftrGp\",\"formSummaryError\":\"Login_formSummaryError__2SaKw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3WLL1\",\"loginBlock\":\"Header_loginBlock__104LJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__26hTO\",\"error\":\"FormControls_error__OkpUN\"};","import {profileAPI, userAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'profile/SET_STATUS';\r\nconst DELETE_MESSAGE = 'profile/DELETE_MESSAGE';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 14},\r\n        {id: 2, message: 'It\\'s my life', likesCount: 50},\r\n        {id: 3, message: 'Ha-ha-ha', likesCount: 21}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                newPostText: '',\r\n                posts: [...state.posts, newPost]\r\n            }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS:\r\n            return {...state, status: action.status}\r\n        case DELETE_MESSAGE:\r\n            return {...state, posts: state.posts.filter(p => p.id != action.postId)}\r\n        default :\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_MESSAGE, postId})\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const response = await userAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n    dispatch(setStatus(status))\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}